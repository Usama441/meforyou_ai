<div class="chat-container">
  <!-- ✅ LEFT SIDEBAR -->
  <aside class="sidebar">
    <h2>Conversations</h2>

    <button type="button" class="chat-send" onclick="openNewChatModal()">Start New Chat</button>

    <div class="conversation-list">
      <% @conversations.each do |convo| %>
        <%= link_to convo.name, chat_path(id: convo.id), data: { turbo_frame: "chat_frame" }, class: "conversation-item #{'active' if @conversation&.id == convo.id}" %>
      <% end %>
    </div>
  </aside>

  <!-- ✅ Hidden AI name for JS to use -->
  <div id="chatMetadata" data-ai-name="<%= @ai_name %>" style="display: none;"></div>

  <!-- ✅ CHAT AREA -->
  <main class="chat-wrapper">
    <turbo-frame id="chat_frame">
      <%= render partial: "chat/chat_exchange", locals: { chats: @chats, conversation: @conversation } %>
    </turbo-frame>
  </main>
</div>

<!-- ✅ Modal for new conversation (unchanged) -->
<%= render partial: "chat/modal" %>

<!-- ✅ Chat JavaScript -->
<script>

</script>
